webpackJsonp([2],{G9XZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"DetailHeader",data:function(){return{headerStatus:"min",opacity:0}},methods:{handleOnScroll:function(){var t=document.documentElement.scrollTop;if(t>50){var e=t/150;this.opacity=e>1?1:e,this.headerStatus="fixed"}else this.headerStatus="min"}},mounted:function(){window.addEventListener("scroll",this.handleOnScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleOnScroll)}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},["min"===t.headerStatus?n("div",{staticClass:"header__min"},[n("router-link",{attrs:{to:"/"}},[n("div",{staticClass:"btn--back"},[n("i",{staticClass:"iconfont icon-back"})])])],1):t._e(),t._v(" "),"fixed"===t.headerStatus?n("div",{staticClass:"header__fixed",style:{opacity:t.opacity}},[n("router-link",{attrs:{to:"/"}},[n("div",{staticClass:"btn--back"},[n("i",{staticClass:"iconfont icon-back"})])]),t._v(" "),n("div",{staticClass:"header__title"},[t._v("景点详情")])],1):t._e()])},staticRenderFns:[]};var s=n("VU/8")(a,i,!1,function(t){n("jEdT")},"data-v-612852de",null).exports,r={render:function(){var t=this.$createElement;return(this._self._c||t)("transition",{attrs:{name:"fade"}},[this._t("default")],2)},staticRenderFns:[]};var l=n("VU/8")({name:"AnimationFade"},r,!1,function(t){n("prCC")},"data-v-4198d95c",null).exports,o={name:"Gallery",data:function(){return{swiperOption:{pagination:".swiper-pagination",paginationType:"fraction",loop:!0,autoplay:0,observer:!0,observeParents:!0}}},props:{imgs:{type:Array,default:function(){return[]}}},methods:{handleGalleryClick:function(){this.$emit("close")}}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"gallery__container",on:{click:this.handleGalleryClick}},[e("div",{staticClass:"gallery__wrapper"},[this.imgs.length?e("swiper",{attrs:{options:this.swiperOption}},[this._l(this.imgs,function(t,n){return e("swiper-slide",{key:n},[e("img",{staticClass:"gallery__img",attrs:{src:t}})])}),this._v(" "),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):this._e()],1)])},staticRenderFns:[]};var d={name:"DetailBanner",components:{AnimationFade:l,Gallery:n("VU/8")(o,c,!1,function(t){n("aQMb")},"data-v-02a71f9a",null).exports},props:{sightName:{type:String,default:""},bannerImg:{type:String,default:""},galleryImgs:{type:Array,default:function(){return[]}}},data:function(){return{showGallery:!1}},methods:{defferScroll:function(t){t.preventDefault()},handleToggleShowGallery:function(t){this.showGallery=t,t?(window.addEventListener("wheel",this.defferScroll,{passive:!1}),window.addEventListener("touchmove",this.defferScroll,{passive:!1})):(window.removeEventListener("wheel",this.defferScroll,{passive:!1}),window.removeEventListener("touchmove",this.defferScroll,{passive:!1}))}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"banner__container"},[n("div",{staticClass:"banner",on:{click:function(e){return t.handleToggleShowGallery(!0)}}},[n("img",{staticClass:"banner__img",attrs:{src:t.bannerImg,alt:t.sightName}}),t._v(" "),n("div",{staticClass:"banner__info"},[n("h3",{staticClass:"banner__info__title"},[t._v(t._s(t.sightName))]),t._v(" "),n("div",{staticClass:"banner__info__count"},[n("i",{staticClass:"iconfont icon-image"}),t._v(" "+t._s(t.galleryImgs.length)+"\n      ")])])]),t._v(" "),n("AnimationFade",[n("Gallery",{directives:[{name:"show",rawName:"v-show",value:t.showGallery,expression:"showGallery"}],attrs:{imgs:t.galleryImgs},on:{close:function(e){return t.handleToggleShowGallery(!1)}}})],1)],1)},staticRenderFns:[]};var _=n("VU/8")(d,m,!1,function(t){n("WRAk")},"data-v-0992c723",null).exports,u={name:"DetailTickets",props:{tickets:{type:Array,default:function(){return[]}}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"tickets"},t._l(t.tickets,function(e,a){return n("li",{key:a,staticClass:"border-topbottom"},[n("div",{staticClass:"ticket"},[n("i",{staticClass:"ticket__icon iconfont icon-ticket"}),t._v(" "),n("span",{staticClass:"ticket__title"},[t._v(t._s(e.title))]),t._v(" "),e.children?n("div",{staticClass:"tickets--inferior"},[n("DetailTickets",{attrs:{tickets:e.children}})],1):t._e()])])}),0)},staticRenderFns:[]};var f=n("VU/8")(u,v,!1,function(t){n("u1ut")},"data-v-65d85c25",null).exports,h={name:"DetailComments",props:{commentList:{type:Array,default:function(){return[]}}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comments"},[n("h2",{staticClass:"comments__title"},[t._v("用户评论")]),t._v(" "),t._l(t.commentList,function(e){return n("div",{key:e.id,staticClass:"comment border-bottom"},[n("div",{staticClass:"comment__info"},[n("div",{staticClass:"comment__info__rate"},[t._v(t._s(e.star))]),t._v(" "),n("div",{staticClass:"comment__info__date"},[t._v(t._s(e.date))])]),t._v(" "),n("p",{staticClass:"comment__content"},[t._v(t._s(e.content))]),t._v(" "),n("div",{staticClass:"comment__imgs__container"},t._l(e.imgUrl,function(t,e){return n("div",{key:e,staticClass:"comment__img__wrapper"},[n("img",{staticClass:"comment__img",attrs:{src:t,alt:""}})])}),0)])})],2)},staticRenderFns:[]};var p=n("VU/8")(h,g,!1,function(t){n("XlTF")},"data-v-1da8372e",null).exports,y=n("gyMJ"),C={name:"Detail",components:{DetailHeader:s,DetailBanner:_,DetailTickets:f,DetailComments:p},data:function(){return{sightName:"",bannerImg:"",galleryImgs:[],tickets:[],commentList:[]}},methods:{loadDetailData:function(){var t=this;Object(y.b)(this.$route.params.id).then(function(e){t.sightName=e.sightName,t.bannerImg=e.bannerImg,t.galleryImgs=e.galleryImgs,t.tickets=e.tickets,t.commentList=e.commentList})}},mounted:function(){this.loadDetailData()}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detail"},[n("DetailHeader"),t._v(" "),n("DetailBanner",{attrs:{sightName:t.sightName,bannerImg:t.bannerImg,galleryImgs:t.galleryImgs}}),t._v(" "),n("DetailTickets",{attrs:{tickets:t.tickets}}),t._v(" "),n("DetailComments",{attrs:{commentList:t.commentList}})],1)},staticRenderFns:[]};var w=n("VU/8")(C,k,!1,function(t){n("GZvc")},"data-v-1e400088",null);e.default=w.exports},GZvc:function(t,e){},WRAk:function(t,e){},XlTF:function(t,e){},aQMb:function(t,e){},jEdT:function(t,e){},prCC:function(t,e){},u1ut:function(t,e){}});
//# sourceMappingURL=2.459f37987d601cad17a2.js.map